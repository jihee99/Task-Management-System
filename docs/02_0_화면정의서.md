# 화면 정의서 (Screen Definition Document)

### 범례

| 구분 | 설명 |
| :--- | :--- |
| ✅ 필수 | 명세에 명시된 필수 구현 항목 |
| ⚠️ 선택 | 명세에 직접 명시되지 않았으나 UX 보완으로 권장되는 항목 |
| 💡 설계 결정 | 명세에 명시되지 않아 자의적으로 결정한 항목 |

---

## 1️⃣ 라우트 기반 화면 (5개)

### 1.1 로그인 페이지

| 항목 | 내용 |
| :--- | :--- |
| **Route** | `/sign-in` |
| **목적** | 사용자 인증 (이메일/비밀번호 기반 로그인) |
| **접근 권한** | 전체 (비로그인 사용자 전용) |
| **레이아웃** | 💡 단독 레이아웃 (GNB 미적용) |

### 화면 상태

| 상태 | 조건 | UI 표현 |
| :--- | :--- | :--- |
| **이미 로그인됨** ✅ | 유효한 토큰 보유 상태로 접근 | 대시보드(`/`)로 자동 리다이렉트 |
| 기본 폼 ✅ | 초기 진입 (비로그인) | 이메일/비밀번호 입력 필드, 제출 버튼 비활성화 |
| 유효성 오류 ✅ | 입력값 검증 실패 | 해당 필드에 에러 메시지 표시, 제출 버튼 비활성화 |
| 유효성 통과 ✅ | 모든 입력값 검증 성공 | 제출 버튼 활성화 (bg=primary) |
| 제출 중 ⚠️ | API 호출 중 | 로딩 표시, 중복 클릭 방지 |
| 서버 에러 ✅ | API 400 응답 | 에러 모달 표시 (errorMessage) |

### 주요 구성 요소

| 요소 | 설명 | 유효성 규칙 |
| :--- | :--- | :--- |
| 이메일 입력 필드 ✅ | label 명시 필수 | RFC 이메일 규약 준수 |
| 비밀번호 입력 필드 ✅ | label 명시 필수 | 영문/한글/숫자, 8~24자 |
| 제출 버튼 ✅ | 조건부 활성화 | 유효성 통과 시 활성화 |

---

### 1.2 대시보드 페이지

| 항목 | 내용 |
| :--- | :--- |
| **Route** | `/` |
| **목적** | 할 일 현황 요약 (전체/해야할 일/한 일 개수) |
| **접근 권한** | 💡 전체 (비로그인 사용자도 접근 가능 - 랜딩 페이지 역할) |
| **레이아웃** | App Layout (GNB 포함) |

> 💡 **설계 결정**: 원본 명세에서 대시보드의 401 처리가 명시되지 않았으므로, 대시보드를 비로그인 사용자도 접근 가능한 랜딩 페이지로 활용한다. 비로그인 시 로그인 유도 UI를 표시한다.

### 화면 상태

| 상태 | 조건 | UI 표현 |
| :--- | :--- | :--- |
| 로딩 ⚠️ | API 호출 중 | 로딩 인디케이터 표시 |
| 정상 조회 ✅ | API 200 응답 | 대시보드 데이터 표시 |
| 비로그인 💡 | API 401 응답 | 로그인 유도 UI 표시 (리다이렉트 없음) |

### 주요 구성 요소

| 요소 | 데이터 필드 | 설명 |
| :--- | :--- | :--- |
| 일 ✅ | `numOfTask` | 전체 할 일 개수 |
| 해야할 일 ✅ | `numOfRestTask` | 미완료 할 일 개수 |
| 한 일 ✅ | `numOfDoneTask` | 완료된 할 일 개수 |
| 로그인 유도 UI 💡 | - | 비로그인 시 로그인 페이지로 이동 유도 (버튼/링크) |

---

### 1.3 할 일 목록 페이지

| 항목 | 내용 |
| :--- | :--- |
| **Route** | `/task` |
| **목적** | 할 일 카드 목록 조회 |
| **접근 권한** | 로그인 사용자 전용 (보호된 페이지) |
| **레이아웃** | App Layout (GNB 포함) |

### 화면 상태

| 상태 | 조건 | UI 표현 |
| :--- | :--- | :--- |
| 초기 로딩 ⚠️ | 첫 페이지 API 호출 중 | 로딩 인디케이터 또는 스켈레톤 |
| 정상 목록 ✅ | API 200 응답 | 카드 목록 표시 (title, memo) |
| 빈 목록 ⚠️ | 데이터 0건 | 빈 상태 UI 표시 |
| 다음 페이지 로딩 ✅ | 무한 스크롤로 추가 데이터 로드 중 | 하단 로딩 인디케이터 |
| 서버 에러 ✅ | API 400 응답 | 에러 모달 표시 (목록 리다이렉트 버튼 포함) |
| 인증 실패 ✅ | API 401 응답 | 로그인 페이지로 즉시 리다이렉트, 로그인 후 복귀 |

### 주요 구성 요소

| 요소 | 설명 |
| :--- | :--- |
| 할 일 카드 ✅ | title, memo 표시. 클릭 시 상세 페이지 이동 |
| 가상 스크롤 영역 ✅ | 뷰포트 내/근접 요소만 렌더링 |

### 성능 요구사항

| 기능 | 설명 |
| :--- | :--- |
| 가상 스크롤링 ✅ | 화면에 보이는 요소만 렌더링하여 성능 최적화 |
| 무한 스크롤 ✅ | 목록 끝 도달 시 다음 페이지 API 자동 호출 |

---

### 1.4 할 일 상세 페이지

| 항목 | 내용 |
| :--- | :--- |
| **Route** | `/task/:id` |
| **목적** | 개별 할 일 상세 조회 및 삭제 |
| **접근 권한** | 로그인 사용자 전용 (보호된 페이지) |
| **레이아웃** | App Layout (GNB 포함) |

### 화면 상태

| 상태 | 조건 | UI 표현 |
| :--- | :--- | :--- |
| 로딩 ⚠️ | API 호출 중 | 로딩 인디케이터 표시 |
| 정상 조회 ✅ | API 200 응답 | 상세 정보 표시 |
| 삭제 모달 ✅ | 삭제 버튼 클릭 | 삭제 확인 모달 표시 |
| Not Found ✅ | API 404 응답 | Not Found 화면 렌더링 |
| 인증 실패 ✅ | API 401 응답 | 로그인 페이지로 즉시 리다이렉트, 로그인 후 복귀 |

### 주요 구성 요소

| 요소 | 데이터 필드 | 설명 |
| :--- | :--- | :--- |
| 제목 ✅ | `title` | 할 일 제목 |
| 메모 ✅ | `memo` | 할 일 상세 내용 |
| 등록일시 ✅ | `registerDatetime` | 할 일 등록 시간 |
| 삭제 버튼 ✅ | - | 클릭 시 삭제 확인 모달 표시 |

---

### 1.5 회원정보 페이지

| 항목 | 내용 |
| :--- | :--- | 
| **Route** | 💡 `/user` (명세에 미정의, 구현 시 결정) |
| **목적** | 로그인한 사용자 정보 조회 |
| **접근 권한** | 로그인 사용자 전용 (보호된 페이지) |
| **레이아웃** | App Layout (GNB 포함) |

### 화면 상태

| 상태 | 조건 | UI 표현 |
| :--- | :--- | :--- |
| 로딩 ⚠️ | API 호출 중 | 로딩 인디케이터 표시 |
| 정상 조회 ✅ | API 200 응답 | 회원 정보 표시 |
| 인증 실패 ✅ | API 401 응답 | 로그인 페이지로 즉시 리다이렉트 |

### 주요 구성 요소

| 요소 | 데이터 필드 | 설명 |
| :--- | :--- | :--- |
| 이름 ✅ | `name` | 사용자 이름 |
| 메모 ✅ | `memo` | 사용자 메모 |
| 로그아웃 버튼 💡 | - | 클릭 시 토큰 제거 후 `/sign-in` 리다이렉트 (선택 구현) |

> 💡 **로그아웃 기능**: 원본 명세에 로그아웃 API가 정의되어 있지 않아 선택 구현입니다.

---

## 2️⃣ 공통 레이아웃 (1개)

### 2.1 App Layout (GNB/LNB)

| 항목 | 내용 |
| :--- | :--- |
| **적용 범위** | `/`, `/task`, `/task/:id`, `/user` |
| **제외** | 💡 `/sign-in` (단독 레이아웃 사용) |

### 상태 분기

| 인증 상태 | 표시 아이콘 | 클릭 동작 |
| :--- | :--- | :--- |
| 로그인됨 ✅ | 회원정보 아이콘 | 회원정보 페이지로 이동 |
| 비로그인 ✅ | 로그인 아이콘 | 로그인 페이지로 이동 |

### 네비게이션 메뉴

| 메뉴 | 아이콘 | 클릭 동작 |
| :--- | :--- | :--- |
| 대시보드 ✅ | 대시보드 아이콘 | `/` 이동 |
| 할 일 ✅ | 할 일 아이콘 | `/task` 이동 |

> ⚠️ 아이콘 규칙: 메뉴별 아이콘은 서로 겹치지 않게 지정
>

---

## 3️⃣ 상태/보조 화면 (3개)

### 3.1 Not Found 화면

| 항목 | 내용 |
| :--- | :--- |
| **사용 위치** | `/task/:id` (API 404 응답 시) |
| **목적** | 존재하지 않는 할 일에 대한 안내 |

### 구성 요소

| 요소 | 설명 |
| :--- | :--- |
| 에러 메시지 ✅ | 해당 할 일을 찾을 수 없음 안내 |
| 목록 이동 안내 ⚠️ | 목록 페이지로 돌아갈 수 있는 링크/버튼 |

> 💡 심미성은 평가 대상 아님
>

---

### 3.2 에러 모달

| 항목 | 내용 |
| :--- | :--- |
| **사용 위치** | 로그인 페이지 (400), 할 일 목록 페이지 (400) |
| **목적** | 서버 에러 메시지 표시 |

### 사용 위치별 동작 차이

| 사용 위치 | 모달 구성 | 버튼 동작 |
| :--- | :--- | :--- |
| 로그인 페이지 ✅ | errorMessage + 확인 버튼 | 모달 닫기 (폼으로 복귀) |
| 할 일 목록 페이지 ✅ | errorMessage + 목록 이동 버튼 | `/task`로 리다이렉트 |

### 공통 구성 요소

| 요소 | 설명 |
| :--- | :--- |
| 에러 메시지 ✅ | API 응답의 `errorMessage` 표시 |
| 액션 버튼 ✅ | 위치에 따라 동작 상이 |

---

### 3.3 삭제 확인 모달

| 항목 | 내용 |
| :--- | :--- |
| **사용 위치** | 할 일 상세 페이지 (`/task/:id`) |
| **목적** | 삭제 전 사용자 확인 (실수 방지) |

### 화면 상태

| 상태 | 조건 | UI 표현 |
| :--- | :--- | :--- |
| ID 미입력/불일치 ✅ | 입력값 ≠ 해당 할 일 ID | 제출 버튼 비활성화 (bg=disabled) |
| ID 일치 ✅ | 입력값 = 해당 할 일 ID | 제출 버튼 활성화 (bg=primary) |

### 구성 요소

| 요소 | 설명 |
| :--- | :--- |
| ID 입력 필드 ✅ | 삭제할 할 일의 ID 입력 |
| 제출 버튼 ✅ | ID 일치 시 활성화, 클릭 시 `/task`로 리다이렉트 |
| 닫기/취소 기능 ✅ | 모달 외부 클릭 또는 취소 버튼으로 모달 닫기 |

> 💡 명세에 DELETE API가 정의되어 있지 않음. 삭제는 UX 플로우 검증 목적이며, 실제 API 호출 여부는 구현 선택에 따름.
>

---

## 4️⃣ 화면 흐름 요약

```
┌─────────────────────────────────────────────────────────────┐
│                                                             │
│  [비로그인 사용자]                                          │
│       │                                                     │
│       ├──▶ / (대시보드 - 랜딩 페이지)                       │
│       │       └── 401 시 로그인 유도 UI 표시                │
│       │                                                     │
│       ├──▶ /task, /task/:id, /user (보호된 페이지)          │
│       │       └── 401 시 /sign-in으로 즉시 리다이렉트       │
│       │                                                     │
│       └──▶ /sign-in ──(로그인 성공)──▶ 원래 페이지로 복귀   │
│                                        (기본: /)            │
│                                                             │
│  [로그인 사용자]                                            │
│       │                                                     │
│       ├──▶ / (대시보드)                                     │
│       │                                                     │
│       ├──▶ /task (할 일 목록) ──▶ /task/:id (상세)          │
│       │                                                     │
│       └──▶ /user (회원정보)                                 │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

---

## 5️⃣ 디자인 시스템 요구사항

### 색상 토큰 ✅

| 토큰명 | 값 | 용도 |
| :--- | :--- | :--- |
| `primary` | blue | 활성화된 버튼 배경 |
| `disabled` | gray | 비활성화된 버튼 배경 |

### 폰트 ✅

| 항목 | 값 |
| :--- | :--- |
| 전체 폰트 | Pretendard |

---

## 📊 화면 총 정리

| 구분 | 개수 | 목록 |
| :--- | :--- | :--- |
| 라우트 기반 화면 | 5개 | 로그인, 대시보드, 할 일 목록, 할 일 상세, 회원정보 |
| 공통 레이아웃 | 1개 | App Layout (GNB/LNB) |
| 상태/보조 화면 | 3개 | Not Found, 에러 모달, 삭제 확인 모달 |
| **총합** | **9개** | - |

---

## 💡 구현 결정사항 목록

명세에 명시되지 않아 구현 시 결정이 필요한 항목들:

| # | 항목 | 결정 내용 | 비고 |
| :--- | :--- | :--- | :--- |
| 1 | 대시보드 접근 권한 | 비로그인 사용자 접근 허용 (랜딩 페이지) | 원본 명세에 401 처리 미명시 |
| 2 | 대시보드 401 처리 | 로그인 유도 UI 표시 (리다이렉트 없음) | 보호된 페이지와 차별화 |
| 3 | 회원정보 페이지 Route | `/user` | `/profile`, `/me` 등 대안 가능 |
| 4 | 로그인 페이지 레이아웃 | GNB 미적용 (단독 레이아웃) | GNB 포함도 가능 |
| 5 | 토큰 자동 갱신 | 선택 구현 | `/api/refresh` API 정의됨 |
| 6 | 삭제 시 실제 API 호출 | 선택 | DELETE API 미정의 |
| 7 | 로그아웃 기능 | 선택 구현 | 로그아웃 API 미정의, 예시 화면에는 포함 |
| 8 | 이미 로그인된 상태에서 `/sign-in` 접근 | 대시보드(`/`)로 리다이렉트 | 불필요한 재로그인 방지 |
| 9 | 할 일 목록 API 응답의 `id` 필드 | 포함 (원본 명세 해석) | 상세 페이지 이동을 위해 필수 |
| 10 | 페이지당 아이템 수 (PAGE_SIZE) | 20개 | 예시 화면 기준 임의 정의 |
| 11 | Mock 데이터 총 개수 | 47개 | 무한 스크롤 테스트용 (3페이지 분량) |
