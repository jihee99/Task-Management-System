# 요구사항 정의서 (Requirement Document)

## 1. 프로젝트 목적

> 할 일 관리 시스템(Task Management System) 구축

### 평가 범위
- React 18/19 + TypeScript 기반 SPA 개발
- 인증/인가 플로우(JWT 기반) 구현
- 상태 관리 및 API 통신 처리
- 성능 최적화 기법(가상 스크롤링, 무한 스크롤) 구현
- 사용자 경험(UX) 설계 및 예외 처리

## 2. 핵심 사용자 정의

### Primary User
- 인증 기반 웹 서비스에서 개인 할 일을 관리하고자 하는 개인 사용자

### 사용자 특성
- 로그인을 통해 개인화된 할 일 목록을 관리
- 대시보드에서 할 일 현황을 한눈에 파악
- 할 일 목록을 조회하고 상세 내용을 확인
- 필요 시 할 일을 삭제

### 사용자 권한

> 💡 **설계 결정**: 원본 명세에서 대시보드(`/`)의 401 에러 처리 방식이 명시되지 않았으므로 대시보드를 랜딩 페이지로 활용한다. 비로그인 사용자도 대시보드 페이지에 접근할 수 있으며, 401 응답 시 로그인 유도 UI를 표시한다.

- 비로그인 사용자
  - 대시보드(`/`) 접근 가능 (랜딩 페이지 역할)
    - 401 응답 시 로그인 유도 UI 제공
  - 로그인 페이지(`/sign-in`) 접근 가능
  - 보호된 페이지(`/task`, `/task/:id`, `/user`) 접근 시 로그인 페이지로 즉시 리다이렉트
- 로그인 사용자
  - 대시보드, 할 일 목록/상세, 회원정보 페이지 접근 가능

## 3. 핵심 기능 (MoSCoW)

### ✅ Must Have (반드시 구현)

#### 개발 경험 개선
- ESLint / Prettier 설정
- 코드 컨벤션 문서화
- **※ 프로젝트의 코드 일관성과 가독성 확보를 위한 내부 품질 기준**

#### 디자인 시스템
- 색상 토큰 관리 (필수)
  - primary: blue
  - disabled: gray
- Pretendard 폰트 전체 적용 (필수)

#### 인증 시스템
- 이메일/비밀번호 기반 로그인
- JWT 기반 토큰 관리
  - AccessToken / RefreshToken 사용
  - API 요청 시 Authorization Header를 통한 인증 처리
- 401 에러 처리 (페이지별 차등 적용)
  - 대시보드(`/`): 로그인 유도 UI 표시 (리다이렉트 없음)
  - 보호된 페이지(`/task`, `/task/:id`, `/user`): 로그인 페이지로 즉시 리다이렉트
- 로그인 성공 후 원래 접근하려던 페이지로 복귀

#### API Mocking
- MSW / 함수 레벨 모킹 / Mock 서버 / 별도 서버 구축 중 1가지 이상 선택
- 명세에 정의된 전체 API 스펙 구현 필수
- Mocking 구성 및 관련 코드 제출 필수

#### 페이지 구현
**1. 전역 네비게이션 (GNB)**

> 💡 **설계 결정**: 본 프로젝트에서는 명세에 정의된 GNB/LNB를 단일 전역 네비게이션 영역으로 통합하여 구현한다. 로그인 여부에 따라 네비게이션 우측 영역의 아이콘 상태가 변경되며, 비로그인 상태에서는 로그인 페이지(`/sign-in`)로 이동하는 아이콘을 제공한다.

라우트 맵:
- 대시보드: 대시보드 아이콘 표시, 클릭 시 대시보드 페이지로 전환
- 할 일: 할 일 아이콘 표시, 클릭 시 할 일 페이지로 전환

로그인/회원정보:
- 로그인한 경우: 회원정보 아이콘 표시, 클릭 시 회원정보 페이지로 전환
- 로그인하지 않은 경우: 로그인 아이콘 표시, 클릭 시 로그인 페이지로 전환
- **메뉴별 아이콘은 겹치지 않게 지정**

**2. 대시보드 (/) - 랜딩 페이지**

> 💡 **설계 결정**: 원본 명세에서 대시보드의 401 처리가 명시되지 않았으므로, 대시보드를 비로그인 사용자도 접근 가능한 랜딩 페이지로 활용한다.

- 로그인 사용자:
  - 일: 일의 개수 (numOfTask)
  - 해야할 일: 해야할 일 개수 (numOfRestTask)
  - 한 일: 한 일의 개수 (numOfDoneTask)
- 비로그인 사용자 (401 응답 시):
  - 로그인 유도 UI 제공 (로그인 페이지로 이동하는 버튼/링크)

**3. 로그인 페이지 (/sign-in)**
- 이메일 / 비밀번호 입력 폼
- 명시적인 input label 제공
- 유효성 검증
  - 이메일: RFC 규약에 맞는 문자열
  - 비밀번호: 영문, 한글, 숫자로 구성된 8~24자 문자열
- 유효성 검증 실패 시 에러 메시지 표시
- 조건 충족 시에만 제출 버튼 활성화 (bg=primary)
- 조건 미충족 시 제출 버튼 비활성화 (bg=disabled)
- [POST] /api/sign-in로 제출
- API Status Code가 200이 아닌 경우 errorMessage를 제공하는 모달 표시

**4. 할 일 목록 (/task)**
- [GET] /api/task 결과값을 카드 목록으로 표시
- 각 카드는 title과 memo 표시
- 할 일 클릭 시 상세 페이지로 이동
- 에러 처리:
  - 400: errorMessage와 목록으로 redirect 하는 버튼을 제공하는 모달 표시
  - 401: 로그인 페이지로 이동, 로그인 이후 해당 페이지로 redirect

**5. 할 일 상세 (/task/:id)**
- [GET] /api/task/:id 결과값 표시
- 개별 할 일 정보 표시
- 삭제 기능 제공
- 에러 처리:
  - 401: 로그인 페이지로 이동, 로그인 이후 해당 페이지로 redirect
  - 404: 404 반환 및 적절한 not-found 렌더링

**6. 회원정보 페이지**
- [GET] /api/user 결과값 표시
- 사용자 이름, 메모 조회
- 에러 처리:
  - 401: 로그인 페이지로 이동, 로그인 이후 해당 페이지로 redirect

#### 성능 최적화
- **가상 스크롤링**: 화면에 보여지는 요소 또는 보여질 요소에 대해서만 적절히 렌더링
- **무한 스크롤**: 목록 끝에 도달 시 다음 페이지 API 호출

#### 모달 구현
- **에러 모달**: 400 에러 시 errorMessage 표시
- **삭제 확인 모달**:
  - 삭제 버튼 클릭 시 확인 input 포함 모달 생성
  - input에 해당 id와 동일한 값 기입 후 제출 시 목록으로 redirect
  - id와 동일한 값 미기입 시 제출 버튼 비활성화

---

### ⚠️ Should Have (가능하면 구현)

#### 상태 관리
- 전역 상태와 로컬 상태의 적절한 분리
- 서버 상태 관리 전략 수립

#### 에러/로딩 상태 UI 피드백
- 로딩 상태 표시
- 빈 데이터 상태 처리

---

### 💡 Could Have (선택 구현)

#### 로그아웃 기능 (선택)
- 회원정보 페이지에서 로그아웃 버튼 제공
- 클릭 시 토큰 제거 후 로그인 페이지(`/sign-in`)로 이동
- **※ 원본 명세에 로그아웃 API가 정의되어 있지 않아 선택 구현으로 분류**

#### 추가 UX 개선
- 로딩 인디케이터
- 스켈레톤 UI
- Toast 알림
- 간단한 애니메이션 효과

---

## 4. 제외 범위 (Out of Scope)

### 기능적 제외
```
❌ 회원가입 기능
❌ 할 일 생성 / 수정 기능
❌ 할 일 상태 변경 (TODO ↔ DONE)
❌ 할 일 검색 / 필터링
❌ 할 일 정렬
❌ 비밀번호 찾기 / 재설정
❌ 다크모드
```

### 디자인적 제외
```
❌ 세밀한 디자인 시스템 구축
❌ 아이콘 심미성 고려
❌ 반응형 디자인 (명세에 없음)
```

---

## 5. 성공 기준 (Success Criteria)

### 기능적 성공
```
☐ 모든 페이지가 요구사항대로 동작
☐ 로그인 폼에 명시적인 label 표시
☐ 유효성 검증 실패 시 에러 메시지가 정확히 노출됨
☐ 인증 플로우 정상 작동 (로그인, 토큰 관리, redirect)
☐ 대시보드가 랜딩 페이지로 정상 동작 (비로그인 시 401 처리)
☐ 모든 UI 컴포넌트가 명세대로 동작 (모달, 버튼 등)
☐ 모든 API 에러 케이스가 적절히 처리됨
☐ 가상 스크롤링 및 무한 스크롤 정상 동작
```

### 기술적 성공
```
☐ TypeScript 타입 안정성 확보 (any 최소화)
☐ 컴포넌트 재사용성 확보
☐ 적절한 상태 관리 전략 수립
☐ 코드 가독성 및 유지보수성 확보
☐ API Mocking 구현 및 코드 제출 완료
☐ 디자인 시스템(색상 토큰, 폰트)이 일관되게 적용됨
```

### 코드 품질 및 문서화
```
☐ 일관된 코드 컨벤션 유지 (ESLint/Prettier)
☐ 명확한 폴더 구조
☐ 의미 있는 변수 / 함수명 사용
☐ 주요 기술·설계 의사결정에 대한 코멘트 작성
☐ README 작성
   - 실행 방법
   - 기술 스택
   - 주요 의사결정
   - API Mocking 방식 설명
```
